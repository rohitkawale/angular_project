var app=angular.module("myApp",["angular-loading-bar"]);app.controller("myCtrl2",["$scope","po_Service","$timeout",function(e,t,a){e.show_po=!1,e.po={},success_value1=2,success_value2=3,error_value1=4,error_value2=5,e.isProcessing=!0,e.show_error=!1,e.date={prevDate:new Date},e.date.prevDate.setDate(e.date.prevDate.getDate()-1),month=e.date.prevDate.getMonth(),month++,day=e.date.prevDate.getDate(),t.getItemData().then(function(t){e.itemData=t.response.data.payload,1==t.error_occured&&(e.show_error=!0,document.getElementById("err").innerHTML="<h3>Data not received, Please try again</h3>")}),e.source_location=["Sangamner","Dadar","Nashik","Kurla","Sakinaka","Vashi"],e.destination_location=["Sakinaka","Dighe","Vashi","Banglore"],e.po.source_location="Sakinaka",t.getVendorName().then(function(t){e.vendor_data=t.response.data.payload,1==t.error_occured&&(e.show_error=!0,document.getElementById("err").innerHTML="<h3>Data not received, Please try again</h3>")}),e.inserted_po=[],e.addItem=function(o,r){selectedMonth=r.getMonth(),selectedMonth++,selectedDay=r.getDate(),selectedYear=r.getFullYear(),payload=[{itemName:o.itemName.name,itemUnit:o.itemName.unit_name,price:o.price,quantity_required:o.quantity_required,Date:selectedMonth+"/"+selectedDay+"/"+selectedYear,source_location:o.source_location,destination_location:o.destination_location,vendor_name:o.vendor}],add_po={itemName:o.itemName.name,itemUnit:o.itemName.unit_name,price:o.price,quantity_required:o.quantity_required,date:selectedMonth+"/"+selectedDay+"/"+selectedYear,source_location:o.source_location,destination_location:o.destination_location,vendor_name:o.vendor},e.po={};var n={result:payload};t.addItem(n).then(function(t){console.log(t),1==t.error_occured?(e.show_error=!0,e.error=data.data,document.getElementById("err").innerHTML="<h3>Your Data was not submitted, Please try again</h3>",a(function(){e.show_error=!1,console.log("timeout")},5e3)):(e.inserted_po.push(add_po),e.show_error=!1)})}}]);